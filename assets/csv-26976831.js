var D={},A={},d=34,m=10,E=13;function I(r){return new Function("d","return {"+r.map(function(o,e){return JSON.stringify(o)+": d["+e+'] || ""'}).join(",")+"}")}function L(r,o){var e=I(r);return function(f,c){return o(e(f),c,r)}}function F(r){var o=Object.create(null),e=[];return r.forEach(function(f){for(var c in f)c in o||e.push(o[c]=c)}),e}function a(r,o){var e=r+"",f=e.length;return f<o?new Array(o-f+1).join(0)+e:e}function S(r){return r<0?"-"+a(-r,6):r>9999?"+"+a(r,6):a(r,4)}function Z(r){var o=r.getUTCHours(),e=r.getUTCMinutes(),f=r.getUTCSeconds(),c=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":S(r.getUTCFullYear())+"-"+a(r.getUTCMonth()+1,2)+"-"+a(r.getUTCDate(),2)+(c?"T"+a(o,2)+":"+a(e,2)+":"+a(f,2)+"."+a(c,3)+"Z":f?"T"+a(o,2)+":"+a(e,2)+":"+a(f,2)+"Z":e||o?"T"+a(o,2)+":"+a(e,2)+"Z":"")}function P(r){var o=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function f(n,t){var s,i,u=c(n,function(h,l){if(s)return s(h,l-1);i=h,s=t?L(h,t):I(h)});return u.columns=i||[],u}function c(n,t){var s=[],i=n.length,u=0,h=0,l,R=i<=0,p=!1;n.charCodeAt(i-1)===m&&--i,n.charCodeAt(i-1)===E&&--i;function N(){if(R)return A;if(p)return p=!1,D;var T,j=u,C;if(n.charCodeAt(j)===d){for(;u++<i&&n.charCodeAt(u)!==d||n.charCodeAt(++u)===d;);return(T=u)>=i?R=!0:(C=n.charCodeAt(u++))===m?p=!0:C===E&&(p=!0,n.charCodeAt(u)===m&&++u),n.slice(j+1,T-1).replace(/""/g,'"')}for(;u<i;){if((C=n.charCodeAt(T=u++))===m)p=!0;else if(C===E)p=!0,n.charCodeAt(u)===m&&++u;else if(C!==e)continue;return n.slice(j,T)}return R=!0,n.slice(j,i)}for(;(l=N())!==A;){for(var g=[];l!==D&&l!==A;)g.push(l),l=N();t&&(g=t(g,h++))==null||s.push(g)}return s}function U(n,t){return n.map(function(s){return t.map(function(i){return v(s[i])}).join(r)})}function M(n,t){return t==null&&(t=F(n)),[t.map(v).join(r)].concat(U(n,t)).join(`
`)}function b(n,t){return t==null&&(t=F(n)),U(n,t).join(`
`)}function B(n){return n.map(w).join(`
`)}function w(n){return n.map(v).join(r)}function v(n){return n==null?"":n instanceof Date?Z(n):o.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:f,parseRows:c,format:M,formatBody:b,formatRows:B,formatRow:w,formatValue:v}}var O=P(","),V=O.parse,Y=O.parseRows;export{Y as a,V as c};
